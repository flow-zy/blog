import{u as M,g as te,h as re,i as U,j as se,P as ae,t as le,k as ie,l as C,m as q,n as oe,p as Y,q as r,s as ce,R as P,v as ue,x as me,y as ne,C as he,z as pe,A as ve,B as de,D as ye,E as fe,F as ge,G as je,H as $,I,J as be,K as H,L as xe}from"./app-D__VP-01.js";const Ee=["/","/intro.html","/css/","/html/","/jquery/","/jquery/ajax.html","/jquery/animation.html","/jquery/event.html","/jquery/extend.html","/jquery/intro.html","/jquery/modify-dom.html","/jquery/operate-dom.html","/jquery/selector.html","/js/","/js/error.html","/node/","/typescript/","/css/guide/","/css/guide/box.html","/css/guide/cascade.html","/css/guide/common.html","/css/guide/declaration.html","/css/guide/import.html","/css/guide/selector.html","/css/intro/","/css/intro/background-and-border.html","/css/intro/box.html","/css/intro/font.html","/css/intro/media.html","/css/intro/overflow.html","/css/intro/replaced.html","/css/intro/selector.html","/css/intro/sizing.html","/css/intro/text-direction.html","/css/intro/value.html","/css/layout/","/css/layout/exercise.html","/css/layout/flex.html","/css/layout/float.html","/css/layout/flow.html","/css/layout/grid.html","/css/layout/intro.html","/frame/react/","/frame/vue/","/html/guide/","/html/guide/tag.html","/html/intro/","/html/intro/basic.html","/html/intro/embed.html","/html/intro/form.html","/html/intro/format.html","/html/intro/head.html","/html/intro/image.html","/html/intro/layout.html","/html/intro/link.html","/html/intro/media.html","/html/intro/svg.html","/html/intro/table.html","/js/BOM/","/js/DOM/","/js/es/","/js/es/array.html","/js/es/async.html","/js/es/bigint.html","/js/es/class.html","/js/es/destructiurng.html","/js/es/function.html","/js/es/generator.html","/js/es/intro.html","/js/es/iterator.html","/js/es/module.html","/js/es/number.html","/js/es/object.html","/js/es/operator.html","/js/es/promise.html","/js/es/proxy-reflect.html","/js/es/regexp.html","/js/es/set-map.html","/js/es/string.html","/js/es/symbol.html","/js/es/variable.html","/js/function/","/js/function/call.html","/js/function/closure.html","/js/function/declare.html","/js/function/higher-order-function.html","/js/function/intro.html","/js/function/map-and-reduce.html","/js/function/scope.html","/js/function/this.html","/js/guide/","/js/guide/array.html","/js/guide/boolean.html","/js/guide/condition.html","/js/guide/data-structure.html","/js/guide/exercise.html","/js/guide/function.html","/js/guide/grammar.html","/js/guide/loop.html","/js/guide/object.html","/js/guide/string.html","/js/guide/variable.html","/js/object/JSON.html","/js/object/","/js/object/create.html","/js/object/date.html","/js/object/extend.html","/js/object/intro.html","/js/object/regExp.html","/js/object/wrap.html","/js/operators/","/js/operators/arithmetic.html","/js/operators/bit.html","/js/operators/boolean.html","/js/operators/comparison.html","/js/operators/priority.html","/js/types/","/js/types/array.html","/js/types/boolean.html","/js/types/function.html","/js/types/general.html","/js/types/null-undefined.html","/js/types/number.html","/js/types/object.html","/js/types/string.html","/typescript/advanced/","/typescript/advanced/class-and-interfaces.html","/typescript/advanced/class.html","/typescript/advanced/declaration-merging.html","/typescript/advanced/enum.html","/typescript/advanced/further-reading.html","/typescript/advanced/generics.html","/typescript/advanced/string-literal-types.html","/typescript/advanced/tuple.html","/typescript/advanced/type-aliases.html","/typescript/basics/","/typescript/basics/any.html","/typescript/basics/built-in-objects.html","/typescript/basics/declaration-files.html","/typescript/basics/primitive-data-types.html","/typescript/basics/type-assertion.html","/typescript/basics/type-inference.html","/typescript/basics/type-of-array.html","/typescript/basics/type-of-function.html","/typescript/basics/type-of-object-interfaces.html","/typescript/basics/union-types.html","/typescript/engineering/","/typescript/engineering/lint.html","/typescript/intro/","/typescript/intro/get-typescript.html","/typescript/intro/hello-typescript.html","/typescript/intro/what-is-typescript.html","/frame/react/core/basic.html","/frame/react/core/started.html","/frame/react/router/router.html","/frame/vue/core/app.html","/frame/vue/core/classAndStyle.html","/frame/vue/core/component.html","/frame/vue/core/composables.html","/frame/vue/core/computed.html","/frame/vue/core/conditional.html","/frame/vue/core/directives.html","/frame/vue/core/event.html","/frame/vue/core/form.html","/frame/vue/core/install.html","/frame/vue/core/lifecycle.html","/frame/vue/core/list.html","/frame/vue/core/reactivity.html","/frame/vue/core/sfc.html","/frame/vue/core/slot.html","/frame/vue/core/started.html","/frame/vue/core/template.html","/frame/vue/core/watch.html","/frame/vue/pinia/","/frame/vue/pinia/pinia.html","/frame/vue/resource/","/frame/vue/router/","/frame/vue/vuex/","/frame/vue/vuex/vuex.html","/frame/react/reduxToolkit/core/started.html","/frame/react/resource/core/started.html","/frame/react/router/core/started.html","/frame/vue/pinia/core/started.html","/frame/vue/resource/core/started.html","/frame/vue/router/core/router.html","/frame/vue/router/core/started.html","/frame/vue/vuex/core/started.html","/404.html","/frame/","/frame/react/core/","/frame/react/router/","/frame/vue/core/","/frame/react/reduxToolkit/core/","/frame/react/reduxToolkit/","/frame/react/resource/core/","/frame/react/resource/","/frame/react/router/core/","/frame/vue/pinia/core/","/frame/vue/resource/core/","/frame/vue/router/core/","/frame/vue/vuex/core/","/category/","/category/css/","/category/html/","/category/jquery/","/category/javascript/","/category/typescript/","/category/%E6%A1%86%E6%9E%B6/","/category/web/","/category/react/","/category/react-router/","/category/vue/","/category/%E5%89%8D%E7%AB%AF/","/category/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%BA%93/","/category/%E8%B7%AF%E7%94%B1/","/tag/","/tag/%E4%BB%8B%E7%BB%8D/","/tag/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/","/tag/css/","/tag/html/","/tag/%E5%AE%89%E8%A3%85/","/tag/react/","/tag/react-router/","/tag/vue/","/tag/pinia/","/tag/vue-router/","/tag/vuex/","/tag/redux-toolkit/","/tag/%E6%BA%90%E7%A0%81/","/tag/%E8%B7%AF%E7%94%B1/","/tag/resource/","/article/","/star/","/timeline/"],ke="SEARCH_PRO_QUERY_HISTORY",f=M(ke,[]),qe=()=>{const{queryHistoryCount:s}=H,a=s>0;return{enabled:a,queryHistory:f,addQueryHistory:l=>{a&&(f.value=Array.from(new Set([l,...f.value.slice(0,s-1)])))},removeQueryHistory:l=>{f.value=[...f.value.slice(0,l),...f.value.slice(l+1)]}}},F=s=>Ee[s.id]+("anchor"in s?`#${s.anchor}`:""),He="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:_}=H,g=M(He,[]),Ae=()=>{const s=_>0;return{enabled:s,resultHistory:g,addResultHistory:a=>{if(s){const l={link:F(a),display:a.display};"header"in a&&(l.header=a.header),g.value=[l,...g.value.slice(0,_-1)]}},removeResultHistory:a=>{g.value=[...g.value.slice(0,a),...g.value.slice(a+1)]}}},we=s=>{const a=he(),l=U(),A=pe(),o=C(0),x=q(()=>o.value>0),v=ve([]);return de(()=>{const{search:d,terminate:w}=ye(),j=be(m=>{const b=m.join(" "),{searchFilter:R=p=>p,splitWord:B,suggestionsFilter:L,...y}=a.value;b?(o.value+=1,d(m.join(" "),l.value,y).then(p=>R(p,b,l.value,A.value)).then(p=>{o.value-=1,v.value=p}).catch(p=>{console.warn(p),o.value-=1,o.value||(v.value=[])})):v.value=[]},H.searchDelay-H.suggestDelay);Y([s,l],([m])=>j(m),{immediate:!0}),fe(()=>{w()})}),{isSearching:x,results:v}};var Be=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(s,{emit:a}){const l=re(),A=U(),o=se(ae),{enabled:x,addQueryHistory:v,queryHistory:d,removeQueryHistory:w}=qe(),{enabled:j,resultHistory:m,addResultHistory:b,removeResultHistory:R}=Ae(),B=x||j,L=le(s,"queries"),{results:y,isSearching:p}=we(L),i=ie({isQuery:!0,index:0}),n=C(0),h=C(0),O=q(()=>B&&(d.value.length>0||m.value.length>0)),Q=q(()=>y.value.length>0),S=q(()=>y.value[n.value]||null),z=()=>{const{isQuery:e,index:t}=i;t===0?(i.isQuery=!e,i.index=e?m.value.length-1:d.value.length-1):i.index=t-1},J=()=>{const{isQuery:e,index:t}=i;t===(e?d.value.length-1:m.value.length-1)?(i.isQuery=!e,i.index=0):i.index=t+1},G=()=>{n.value=n.value>0?n.value-1:y.value.length-1,h.value=S.value.contents.length-1},K=()=>{n.value=n.value<y.value.length-1?n.value+1:0,h.value=0},N=()=>{h.value<S.value.contents.length-1?h.value+=1:K()},V=()=>{h.value>0?h.value-=1:G()},D=e=>e.map(t=>xe(t)?t:r(t[0],t[1])),W=e=>{if(e.type==="customField"){const t=ge[e.index]||"$content",[c,k=""]=je(t)?t[A.value].split("$content"):t.split("$content");return e.display.map(u=>r("div",D([c,...u,k])))}return e.display.map(t=>r("div",D(t)))},E=()=>{n.value=0,h.value=0,a("updateQuery",""),a("close")},X=()=>x?r("ul",{class:"search-pro-result-list"},r("li",{class:"search-pro-result-list-item"},[r("div",{class:"search-pro-result-title"},o.value.queryHistory),d.value.map((e,t)=>r("div",{class:["search-pro-result-item",{active:i.isQuery&&i.index===t}],onClick:()=>{a("updateQuery",e)}},[r($,{class:"search-pro-result-type"}),r("div",{class:"search-pro-result-content"},e),r("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:c=>{c.preventDefault(),c.stopPropagation(),w(t)}})]))])):null,Z=()=>j?r("ul",{class:"search-pro-result-list"},r("li",{class:"search-pro-result-list-item"},[r("div",{class:"search-pro-result-title"},o.value.resultHistory),m.value.map((e,t)=>r(P,{to:e.link,class:["search-pro-result-item",{active:!i.isQuery&&i.index===t}],onClick:()=>{E()}},()=>[r($,{class:"search-pro-result-type"}),r("div",{class:"search-pro-result-content"},[e.header?r("div",{class:"content-header"},e.header):null,r("div",e.display.map(c=>D(c)).flat())]),r("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:c=>{c.preventDefault(),c.stopPropagation(),R(t)}})]))])):null;return oe("keydown",e=>{if(s.isFocusing){if(Q.value){if(e.key==="ArrowUp")V();else if(e.key==="ArrowDown")N();else if(e.key==="Enter"){const t=S.value.contents[h.value];v(s.queries.join(" ")),b(t),l.push(F(t)),E()}}else if(j){if(e.key==="ArrowUp")z();else if(e.key==="ArrowDown")J();else if(e.key==="Enter"){const{index:t}=i;i.isQuery?(a("updateQuery",d.value[t]),e.preventDefault()):(l.push(m.value[t].link),E())}}}}),Y([n,h],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>r("div",{class:["search-pro-result-wrapper",{empty:s.queries.length?!Q.value:!O.value}],id:"search-pro-results"},s.queries.length?p.value?r(ce,{hint:o.value.searching}):Q.value?r("ul",{class:"search-pro-result-list"},y.value.map(({title:e,contents:t},c)=>{const k=n.value===c;return r("li",{class:["search-pro-result-list-item",{active:k}]},[r("div",{class:"search-pro-result-title"},e||o.value.defaultTitle),t.map((u,ee)=>{const T=k&&h.value===ee;return r(P,{to:F(u),class:["search-pro-result-item",{active:T,"aria-selected":T}],onClick:()=>{v(s.queries.join(" ")),b(u),E()}},()=>[u.type==="text"?null:r(u.type==="title"?ue:u.type==="heading"?me:ne,{class:"search-pro-result-type"}),r("div",{class:"search-pro-result-content"},[u.type==="text"&&u.header?r("div",{class:"content-header"},u.header):null,r("div",W(u))])])})])})):o.value.emptyResult:B?O.value?[X(),Z()]:o.value.emptyHistory:o.value.emptyResult)}});export{Be as default};
